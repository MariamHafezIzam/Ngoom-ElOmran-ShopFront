<!-- Link Swiper's CSS -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"
/>

<!-- Demo styles -->
<style>
  .row-swiper .swiper {
    width: 100% !important;
    height: 100% !important;
  }

  .row-swiper .swiper-slide {
    text-align: center;
    font-size: 18px;
    background-color: transparent;

    /* Center slide text vertically */
    display: -webkit-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
    -webkit-box-align: center;
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
  }

  .row-swiper .swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .row-swiper .swiper-button-prev {
    background-image: none !important;
    background-color: #0066a5;
    color: #fff;
    display: flex !important;
  }
  .row-swiper .swiper-button-next {
    background-image: none;
    display: flex !important;
  }
  .row-swiper .swiper-button-prev,
  .row-swiper .swiper-rtl .swiper-button-next {
    background-color: #0066a5 !important;
    color: #fff !important;
    display: flex !important;
  }
  #mySwiper .swiper-slide {
    margin: 0px !important;
  }
  .swiper-button-next:after,
  .swiper-button-prev:after {
    color: #fff !important;
    background-color: #0066a5 !important;
    font-size: 26px !important;
    font-weight: 600;
  }
  .swiper-button-next,
  .swiper-button-prev {
    height: 45px !important;
    width: 45px !important;
  }
  .custom_content .swiper-button-prev,
  .custom_content .swiper-rtl .custom_content .swiper-button-next {
    color: #fff !important;
    background-color: #0066a5 !important;
  }
  .swiper-button-prev {
    margin-right: 15px !important;
  }
  .swiper-button-next {
    margin-left: 15px !important;
  }
  .featured-text {
    height: 90px;
  }
  @media only screen and (max-width: 991px) {
    .featured-text {
      height: 60px;
    }

    .swiper-button-next:after,
    .swiper-button-prev:after {
      font-size: 20px !important;
      font-weight: 600;
    }
    .swiper-button-next,
    .swiper-button-prev {
      height: 30px !important;
      width: 30px !important;
    }

    .swiper-button-prev {
      margin-right: 5px !important;
    }
    .swiper-button-next {
      margin-left: 5px !important;
    }
  }
</style>

{{#itemsCount}}
<div id="home-featured-products-section" class="pb-4">
  <div class="container px-0" style="max-width: 100%; margin: auto">
    <div>
      <h3
        class="title font-weight-medium pt-0 pb-4 my-0 px-0"
        style="color: #f75a27"
      >
        <span> الاكثر مبيعا .....</span>
      </h3>
    </div>
    <div class="row row-swiper px-3 mx-0 px-lg-0">
      <div class="swiper mySwiper testSwiper" id="mySwiper">
        <div class="swiper-wrapper">
          {{#items}}
          <div
            class="swiper-slide col-lg-4 col-6 col py-2 px-lg-4 px-1 card-product box"
          >
            <div class="item hover w-100" style="border: 1px solid #0066a5">
              <div
                class="align-items-start d-flex flex-column m-0 product p-0"
                style="background-image: url({{file_full_path}});     background-size: cover;
       background-position: center; "
                data-product-id="{{id}}"
                data-image="{{file_full_path}}"
                data-price="{{final_price_number}}"
                data-name="{{name}}"
                data-category="{{category}}"
              >
                <div class="row w-100 img-padding" style="align-self: center">
                  <div
                    class="col-7 px-0 featured-text"
                    style="display: flex; align-items: center"
                  >
                    <a
                      href="/contents/product_view/{{id}}"
                      class="text-decoration-none text-primary text-hover-black"
                    >
                      <h6
                        class="fs-lg-18 fs-14 font-weight-semibold p-1 px-lg-3 px-1 name my-auto"
                      >
                        {{ name }}<span
                          class="font-weight-medium fs-16 text-body ml-2 d-none"
                          >#{{id}}</span
                        >
                      </h6>
                    </a>
                    <p
                      class="fs-16 fs-md-14 fs-xl-16 font-weight-medium text-body mb-0 d-none"
                    >
                      {{description}}
                    </p>
                  </div>
                  <div
                    class="col-5 px-0 d-flex"
                    style="align-self: center; border-right: 1px solid #0066a5"
                  >
                    <div
                      class="m-0 p-1 font-weight-bold"
                      style="text-align-last: center"
                    >
                      <p style="height: 20px" class="m-0"></p>
                      {{#discount}}
                      <span
                        class="price fs-14 px-2"
                        style="background-color: #ff0000"
                        >{{final_price}}</span
                      >
                      <del class="text-white"
                        ><span class="text-alto fs-14 mr-2 discount"
                          >{{unit_price}}</span
                        ></del
                      >
                      {{/discount}} {{^discount}}
                      <span
                        class="text-white fs-lg-14 fs-10 px-1"
                        style="background-color: #ff0000"
                        >{{final_price}}</span
                      >
                      {{/discount}}
                    </div>
                  </div>
                </div>
                <button
                  data-name="{{name}}"
                  class="add-to-cart-btn btn btn-sm btn-primary text-uppercase font-weight-medium fs-lg-18 fs-14 p-lg-3 p-1 m-lg-4 m-2 w-75"
                >
                  أضف للسلة
                </button>
              </div>
            </div>
          </div>
          {{/items}}
        </div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
      </div>
    </div>
  </div>
  {{/itemsCount}}
</div>
<!-- <script>
  if (
    window.location.href !=
    "https://daftralayouts.daftra.com/contents/process_content/all_featured"
  ) {
    var cards = $(".card-product").length;

    if (cards >= 3) {
      $(".card-product")
        .css("display", "none")
        .filter(":nth-of-type(-n+3)")
        .css("display", "flex");
    } else {
      console.log("More than 5");
    }
  } else {
    console.log("HI");
  }
</script> -->
<script>
  var swiper = new Swiper(".testSwiper", {
    breakpoints: {
      250: {
        slidesPerView: 1,
        spaceBetween: 0,
      },
      1300: {
        slidesPerView: 3,
        spaceBetween: 0,
      },
    },

    reverseDirection: true,
    navigation: {
      nextEl: ".swiper-button-prev",
      prevEl: ".swiper-button-next",
    },
  });
</script>
