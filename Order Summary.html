<style>
  .heading {
    height: 55px;
  }
  .tbl-items td {
    /* height: 4cm; */
    vertical-align: middle !important;
  }
  .tbl-items img {
    height: 4cm !important;
    width: 5cm !important;
    object-fit: scale-down;
  }
  .text-second {
    color: #ff7d82 !important;
  }
  .btn-success {
    background-color: #ff7d82 !important;
    border-color: #ff7d82 !important;
  }
  .btn-success:hover {
    background-color: #ff7d82 !important;
    border-color: #ff7d82 !important;
    transform: scale(1.02);
    transition: 0.3s;
  }
</style>
<div id="order-summary-section">
  <div class="container">
    <div class="mt-6 mb-9">
      <div class="mb-5">
        <div class="py-4 text-center text-primary">
          <h3 class="fs-30 font-weight-semibold">عربة التسوق</h3>
        </div>

        <div class="row pt-8">
          <div class="col-lg-8 pr-8">
            <div
              class="d-flex align-items-center text-primary mb-2"
              style="height: 31px"
            >
              <i class="fas fa-receipt fs-22 mr-2"></i>
              <h3 class="font-weight-semibold fs-lg-22 fs-18 mb-0 mr-2">
                تفاصيل عملية الشراء
              </h3>
              <small class="fs-14 fs-lg-16 font-weight-medium text-body"
                >({{itemsCount}} منتج)</small
              >
            </div>
            <div class="table-responsive">
              <table class="table tbl-items">
                <thead>
                  <tr>
                    <th
                      scope="col"
                      class="text-primary fs-14 fs-lg-16 font-weight-bold"
                    >
                      منتج
                    </th>
                    <th
                      scope="col"
                      class="d-none d-md-table-cell text-primary text-center fs-14 fs-lg-16 font-weight-bold"
                    >
                      السعر
                    </th>
                    <th
                      scope="col"
                      width="60"
                      class="d-none d-md-table-cell text-primary text-center fs-14 fs-lg-16 font-weight-bold"
                    >
                      الكمية.
                    </th>
                    {{#hasDiscounts}}
                    <th
                      scope="col"
                      width="170"
                      class="text-primary text-center fs-14 fs-lg-16 font-weight-bold"
                    >
                      خصم
                    </th>
                    {{/hasDiscounts}} {{^hasDiscounts}}
                    <th
                      scope="col"
                      width="120"
                      class="text-primary text-center fs-14 fs-lg-16 font-weight-bold"
                    ></th>
                    {{/hasDiscounts}}
                    <th
                      scope="col"
                      width="150"
                      class="text-primary text-center fs-14 fs-lg-16 font-weight-bold"
                    >
                      الإجمالي
                    </th>
                  </tr>
                </thead>
                <tbody>
                  {{#items}}
                  <tr>
                    <td>
                      <div class="d-flex align-items-center">
                        <img
                          src="{{image}}"
                          class="img-cover mr-4"
                          alt="Product Name"
                        />
                        <div>
                          <h6
                            class="font-weight-semibold fs-14 fs-lg-16 text-primary mb-0"
                          >
                            {{name}}<span class="d-block d-md-none"
                              ><span
                                class="d-inline-block text-readable fs-14 badge badge-cart p-1 mt-1 lh-14"
                                >x 1 ($20.00)</span
                              ></span
                            >
                          </h6>
                          <span
                            class="font-weight-medium fs-13 fs-lg-14 text-light"
                            >#{{code}}</span
                          >
                        </div>
                      </div>
                    </td>
                    <td class="d-none d-md-table-cell text-center">
                      <span class="fs-16 font-weight-medium text-primary"
                        >{{formatted_price}}</span
                      >
                    </td>
                    <td class="d-none d-md-table-cell text-center">
                      <span class="fs-16 font-weight-medium text-primary"
                        >{{quantity}}</span
                      >
                    </td>
                    {{#hasDiscounts}}
                    <td class="text-center">
                      <span class="fs-16 font-weight-medium text-second"
                        >{{final_discount}}</span
                      >
                    </td>
                    {{/hasDiscounts}} {{^hasDiscounts}}
                    <td class="text-center">
                      <span
                        class="fs-16 font-weight-medium text-primary"
                      ></span>
                    </td>
                    {{/hasDiscounts}}
                    <td class="text-center">
                      <span class="fs-18 font-weight-medium text-primary"
                        >{{formatted_subtotal}}</span
                      >
                    </td>
                  </tr>
                  {{/items}}
                  <tr>
                    <td></td>
                    <td class="d-none d-md-table-cell"></td>
                    <td class="d-none d-md-table-cell"></td>
                    <td class="pb-1 text-center">
                      <span class="fs-14 fs-lg-16 font-weight-medium text-body"
                        >الإجمالي:</span
                      >
                    </td>
                    <td class="text-center pb-1">
                      <span class="fs-18 font-weight-bold text-primary"
                        >{{formatted_subtotals}}</span
                      >
                    </td>
                  </tr>
                  {{#hasDiscounts}}
                  <tr>
                    <td class="border-top-0"></td>
                    <td class="d-none d-md-table-cell border-top-0"></td>
                    <td class="d-none d-md-table-cell border-top-0"></td>
                    <td class="border-top-0 py-1 text-center">
                      <span
                        class="fs-18 fs-lg-16 font-weight-medium text-second"
                        >الخصم:</span
                      >
                    </td>
                    <td class="text-center border-top-0 py-1">
                      <span class="fs-18 font-weight-bold text-second"
                        >{{discounts}}</span
                      >
                    </td>
                  </tr>
                  {{/hasDiscounts}}
                  <!-- Taxes List Start Here -->
                  <tr id="magic_tr">
                    <td class="border-top-0"></td>
                    <td class="d-none d-md-table-cell border-top-0"></td>
                    <td class="d-none d-md-table-cell border-top-0"></td>
                    <td class="border-top-0 px-0 py-0">
                      <hr class="spacer border-dashed border-placeholder" />
                    </td>
                    <td class="border-top-0 px-0 py-0">
                      <hr class="spacer border-dashed border-placeholder" />
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-lg-4 bg-white">
            <div class="mb-6">
              <div class="d-flex align-items-center text-primary mb-2 heading">
                <i class="fas fa-money-bill-wave fs-22 mr-2"></i>
                <h3 class="font-weight-semibold fs-lg-22 fs-18 mb-0 mr-2">
                  الإجمالي:
                </h3>
              </div>
              <div class="table-responsive">
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col" width="170"></th>
                      <th scope="col" width="300"></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td
                        class="border-top-0 align-middle pt-2 pb-1 text-nowrap"
                      >
                        <span
                          class="fs-20 font-weight-semibold text-primary mr-4"
                          >الإجمالي:</span
                        >
                      </td>
                      <td class="text-right border-top-0 pt-2 pb-1">
                        <span
                          class="fs-24 font-weight-bold text-second"
                          id="total_amount"
                          data-total="{{total}}"
                          >{{total}}</span
                        >
                      </td>
                    </tr>
                    <tr>
                      <td class="border-top-0 px-0 py-0">
                        <hr class="spacer border-dashed border-placeholder" />
                      </td>
                      <td class="border-top-0 px-0 py-0">
                        <hr class="spacer border-dashed border-placeholder" />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <a
              id="submitBtn"
              href="#"
              class="btn btn-success d-flex align-items-center justify-content-between rounded-lg btn-block px-6 py-3 fs-20 font-weight-medium btn-lg"
            >
              <span>احجز طلبك</span>
              <span class="fas fa-arrow-right fs-16"></span>
            </a>
            <div>
              <a
                href="/contents/products_list"
                class="btn btn-primary text-hover-primary mt-2 mt-lg-0 d-inline-block font-weight-medium"
                ><span class=""
                  ><i class="fas fa-arrow-left mr-1"></i>الرجوع الى التسوق</span
                ></a
              >
            </div>
          </div>
          =
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  // Do not remove these, they are used in another file
  let all_system_taxes = JSON.parse("{{{all_taxes}}}");
  let item_taxes = Object.values(JSON.parse("{{{totalTaxes}}}"));
</script>
<script src="/shop_front/js/order-summary.js"></script>
